@prefix dct: <http://purl.org/dc/terms/> .
@prefix dctype: <http://purl.org/dc/dcmitype/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix tolo: <https://ontologies.treasuryoflives/tolo/> .
@prefix vann: <http://purl.org/vocab/vann/> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

tolo:collection
	a owl:Ontology ;
	dct:license "TBD"^^xsd:string ;
	vann:preferredNamespacePrefix "tolo"^^xsd:string ;
	owl:versionIRI <https://ontologies.treasuryoflives/tolo/collection/1.0.0> ;
	skos:definition "The Treasury of Lives Collection Ontology provides classes and properties for describing ordered and unordered collections of resources."@en ;
	skos:editoralNote "Using tolo namespace for now - may break off into a separate namespace since this is quite a distinct ontology."@en ;
	skos:note "This ontology draws inspiration from both the Ordered List Ontology and the Open Archives Initiative Object Exchange and Reuse ontology."@en ;
	skos:prefLabel "Treasury of Lives Collection Ontology"@en ;
	.

tolo:Collection
	a owl:Class ;
	rdfs:subClassOf
		dctype:Collection ,
		[
			a owl:Restriction ;
			owl:onProperty tolo:length ;
			owl:cardinality "1"^^xsd:nonNegativeInteger ;
		] ,
		[
			a owl:Restriction ;
			owl:onProperty tolo:hasMember ;
			owl:minCardinality "1"^^xsd:nonNegativeInteger ;
		]
		;
	skos:definition "An aggregation of resources."@en ;
	skos:prefLabel "Collection"@en ;
	.

tolo:OrderedCollection
	a owl:Class ;
	rdfs:subClassOf tolo:Collection ;
	owl:equivalentClass [
		owl:intersectionOf (
			tolo:Collection
			[
				a owl:Restriction ;
				owl:onProperty [
					owl:inverseOf tolo:isProxyIn ;
				] ;
				owl:minCardinality "1"^^xsd:nonNegativeInteger ;
			]
		) ;
	] ;
	skos:definition "A collection in which resources are ordered into a sequence."@en ;
	skos:editorialNote "TODO We could formalize this by stating every proxy has index 1, and/or at least one previous, and/or at least one next. Note that because there can be proxies with the same rank, there could be more than one previous or more than one next."^^xsd:string ;
	skos:prefLabel "Ordered collection"@en ;
	skos:scopeNote "The items in an OrderedCollection are not fixed over time but may be reordered."@en ;
	.

tolo:Proxy
	owl:equivalentClass [
		owl:intersectionOf (
			[
				a owl:Restriction ;
				owl:onProperty tolo:isProxyFor ;
				owl:cardinality "1"^^xsd:nonNegativeInteger ;
			]
			[
				a owl:Restriction ;
				owl:onProperty tolo:isProxyIn ;
				owl:cardinality "1"^^xsd:nonNegativeInteger ;
			]
			[
				a owl:Restriction ;
				owl:onProperty tolo:index ;
				owl:cardinality "1"^^xsd:nonNegativeInteger ;
			]
		) ;
	] ;
	skos:definition "The representation of a resource as it exists in a specific Collection. This object both represents the position of an item in an ordered collection, and carries properties that apply to an item only in the context of the Collection."@en ;
	skos:example "The proxy of a teacher in a teaching lineage can indicate both the person's position in the lineage and the date the person became a member of the lineage."@en ;
	skos:prefLabel "Proxy"@en ;
	.

tolo:StrictOrderedCollection
	a owl:Class ;
	rdfs:subClassOf tolo:OrderedCollection ;
	skos:definition "A strict OrderedCollection - i.e., one in which no two items may have the same index."@en ;
	skos:editorialNote
		"TODO This can be formalized by stating that every element has index of 1, and/or exactly one next, an/dor exactly one previous."@en ,
		"We may not need this. Are some lineages strictly ordered and others not?"@en
		;
	skos:prefLabel "Strict ordered collection"@en ;
	.

tolo:hasMember
	a owl:ObjectProperty ;
	owl:inverseOf tolo:isMemberOf ;
	skos:definition "Relates any kind of grouping to a resource that is a member of it."@en ;
	skos:prefLabel "has member"@en ;
	skos:scopeNote
		"The members of an OrderedCollection are either its proxies or the resources represented by the proxies. Use ^isProxyIn to refer specifically to proxies."@en ,
		"This is a specific partitive predicate designed to avoid the ambiguities of a general 'hasPart' predicate."@en
		;
	.

tolo:hasNext
	a owl:ObjectProperty ;
	rdfs:domain tolo:Proxy ;
	rdfs:range tolo:Proxy ;
	owl:inverseOf tolo:hasPrevious ;
	skos:definition "Relates a Proxy in an OrderedCollection to the immediately following Proxy."@en ;
	skos:prefLabel "has next"@en ;
	.

tolo:hasPrevious
	a owl:ObjectProperty ;
	rdfs:domain tolo:Proxy ;
	rdfs:range tolo:Proxy ;
	owl:inverseOf tolo:hasNext ;
	skos:definition "Relates a Proxy in an OrderedCollection to the immediately preceding Proxy."@en ;
	skos:prefLabel "has previous"@en ;
	.

tolo:index
	a owl:DatatypeProperty ;
	rdfs:domain tolo:Proxy ;
	skos:definition "The position of a Proxy in an OrderedCollection."@en ;
	skos:prefLabel "index"^^xsd:string ;
	.

tolo:isMemberOf
	a owl:ObjectProperty ;
	owl:inverseOf tolo:hasMember ;
	skos:definition "Relates any kind of grouping to a resource that is a member of it."@en ;
	skos:prefLabel "is member of"@en ;
	skos:scopeNote
		"The members of an OrderedCollection are either its proxies or the resources represented by the proxies. Use ^isProxyIn to refer specifically to proxies."@en ,
		"This is a specific partitive predicate designed to avoid the ambiguities of a general 'isPartOf' predicate."@en
		;
	.

tolo:isProxyFor
	a owl:ObjectProperty ;
	rdfs:domain tolo:Proxy ;
	skos:definition "Relates a Proxy to the resource it represents in an OrderedCollection."@en ;
	skos:prefLabel "is proxy for"@en ;
	.

tolo:isProxyIn
	a owl:ObjectProperty ;
	rdfs:domain tolo:Proxy ;
	rdfs:range tolo:OrderedCollection ;
	skos:definition "Relates a Proxy to the OrderedCollection it belongs to."@en ;
	skos:prefLabel "is proxy in"@en ;
	.

tolo:numberOfMembers
	a owl:DatatypeProperty ;
	skos:definition "The number of resources in a Collection or other grouping."@en ;
	skos:prefLabel "number of members"^^xsd:string ;
	.

